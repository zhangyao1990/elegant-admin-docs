---
title: 全局状态管理
date: 2023-07-13 18:56:22
permalink: /pages/197691/
article: false
---

## [全新的 Vue3 状态管理工具：Pinia](https://pinia.vuejs.org/zh/)

使用 Pinia 替代 Vuex，Pinia 是一个基于 Vue3 的轻量级状态管理库，与 Vuex 相比，它提供了更加简单易用的 API，并且可以支持 TypeScript 类型定义。相对于 Vuex 复杂的模块化结构，Pinia 的代码结构更加扁平化，易于理解和维护。使用 Pinia 可以通过创建 store 实例来管理全局状态，使用 Pinia 可以有效减少状态管理的维护成本，并提供了更加清晰、简单的代码结构。（使用$patch改变数据 $patch 可以同时修改多个值）。

全局状态文件存放在 /src/store/modules/ 目录下，请按模块进行区分。同时请保证文件名和文件内唯一ID保持一致，建议使用 pnpm new 指令进行创建。

例如新建一个 example.ts 的文件：
```js
const useExampleStore = defineStore(
  // 唯一ID
  'example',
  {
    state: () => ({}),
    getters: {},
    actions: {},
  },
)

export default useExampleStore

```
使用方法：
```js

import useExampleStore from '@/store/modules/example'
const exampleStore = useExampleStore()

exampleStore.data
exampleStore.doSomething()

```
